<!-- web/campaign/index.html 31-10-2025 v 4 -->
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Inside Track Sales Accelerator · Campaign</title>
  <link rel="icon" href="/assets/larato-logo.svg" />
  <script>
    (function () {
      try {
        var theme = (localStorage.getItem('it-theme') || localStorage.getItem('theme') || '').toLowerCase();
        if (!theme) {
          var m = (document.cookie || '').match(/(?:^|;\s*)(?:it-theme|theme)=(dark|light)/i);
          theme = m ? m[1].toLowerCase() : '';
        }
        if (!theme && window.matchMedia) {
          theme = matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        if (theme !== 'dark' && theme !== 'light') theme = 'light';
        document.documentElement.setAttribute('data-theme', theme);
      } catch (e) { /* no-op */ }
    })();
    window.addEventListener('storage', function (e) {
      if (e.key === 'it-theme' || e.key === 'theme') {
        var v = (e.newValue || '').toLowerCase();
        if (v === 'dark' || v === 'light') {
          document.documentElement.setAttribute('data-theme', v);
        }
      }
    });
  </script>
  <link rel="stylesheet" href="/styles.css?v=2025-10-09-fc2">
</head>

<body class="app-campaign">
  <!-- HEADER (suite shell) -->
  <header class="app-header topbar compact" role="banner">
    <div class="header-left">
      <a class="brand-link" href="/" aria-label="Back to Inside Track main menu" title="Back to main menu">
        <img class="logo" src="/assets/larato-logo-bullet.svg" alt="" aria-hidden="true" />
        <div class="brand-text">
          <h1 class="app-title">Inside Track Sales Accelerator</h1>
          <p class="kicker">Campaign builder</p>
        </div>
      </a>
    </div>
    <div class="header-right" style="display:flex;gap:8px;align-items:center">
      <span class="chip chip-amethyst" id="envChip">Dev</span>
      <button class="btn secondary small" id="newRunBtn" type="button">New run</button>
      <button class="btn secondary small" id="loadRecentBtn" type="button">Load recent</button>
      <div id="download-docx-mount"></div>
      <a href="#" class="btn btn-tertiary small" id="helpLink">Help</a>
    </div>
  </header>

  <main class="workboard">
    <!-- Left rail: inputs -->
    <aside class="panel left card rail" id="inputs" aria-label="Run inputs">
      <div class="group">
        <h3>Data source</h3>
        <label for="runSelect">Pick a recent Power BI run</label>
        <select id="runSelect">
          <option value="">(coming soon)</option>
        </select>
        <div class="muted" style="margin-top:6px">or</div>
        <label for="csvUpload" style="margin-top:6px">Upload CSV (testing only)</label>
        <input id="csvUpload" type="file" accept=".csv" />
        <div style="display:flex; gap:8px; align-items:center; margin-top:8px">
          <div class="muted"><span id="csvBadge">(no file)</span></div>
        </div>
      </div>

      <div class="group">
        <h3>Company</h3>
        <label for="companyName">Company name</label>
        <input id="companyName" type="text" placeholder="Comms 365" />
        <label for="companyWebsite" style="margin-top:8px">Website</label>
        <input id="companyWebsite" type="url" placeholder="https://www.example.com" />
        <label for="companyLinkedIn" style="margin-top:8px">LinkedIn</label>
        <input id="companyLinkedIn" type="url" placeholder="https://www.linkedin.com/company/..." />
        <label for="buyerIndustry">Industry (optional)</label>
        <input id="buyerIndustry" name="buyerIndustry" type="text" placeholder="e.g., Construction"
          list="industryOptions" />
        <datalist id="industryOptions"></datalist>
        <label for="supplier_products" class="block text-sm font-medium mb-1">Products / services to include (comma,
          semicolon, or newline separated)</label>
        <textarea id="supplier_products" class="w-full border rounded p-2" rows="3"
          placeholder="e.g. List your products here. (Comma, semicolon, or newline separated)."></textarea>
        <label for="companyUsps" style="margin-top:8px">USPs / differentiators</label>
        <textarea id="companyUsps" class="textarea" rows="3"
          placeholder="List your differentiators here. (Comma, semicolon, or newline separated)."></textarea>
      </div>

      <div class="group">
        <h3>Campaign</h3>
        <label for="salesModel">Sales model</label>
        <select id="salesModel">
          <option value="">(unspecified)</option>
          <option value="direct">Direct</option>
          <option value="partner">Partner</option>
        </select>

        <label for="relevantCompetitors" style="margin-top:8px">Relevant competitors (comma, semicolon, or newline
          separated)</label>
        <textarea id="relevantCompetitors" class="textarea" rows="2" placeholder="Gamma; Colt; Kerv"></textarea>

        <label for="campaignRequirement" style="margin-top:8px">Campaign goal</label>
        <select id="campaignRequirement">
          <option value="">(unspecified)</option>
          <option value="upsell">Upsell</option>
          <option value="win-back">Win-back</option>
          <option value="growth">Growth</option>
        </select>

        <label for="notes" style="margin-top:8px">Notes (optional)</label>
        <textarea id="notes" class="textarea" rows="2"
          placeholder="Any extra guidance for this campaign run"></textarea>
      </div>

      <div class="group">
        <h3>Formatting & preferences</h3>
        <label for="pageKey">Page (folder key)</label>
        <input id="pageKey" type="text" placeholder="Direct" value="Direct" />
        <label for="tone" style="margin-top:8px">Tone</label>
        <select id="tone">
          <option value="match">Match company website (recommended)</option>
          <option value="professional" selected>Professional</option>
          <option value="warm">Warm</option>
        </select>
        <div style="display:flex; gap:8px; align-items:center; margin-top:8px">
          <button id="goBtn" class="btn primary btn-cta" type="button" disabled>Go</button>
        </div>
      </div>

      <div class="group">
        <h3>Status</h3>
        <div><span id="statusDot" class="status-dot" aria-hidden="true"></span><span id="statusText">Idle</span></div>
        <div class="muted" style="margin-top:6px">Run: <span id="currentRunId">–</span></div>
      </div>
    </aside>

    <!-- Center: workspace -->
    <section class="panel middle card workspace" aria-live="polite">
      <div class="tabs">
        <div class="tabs-left" id="sectionTabs" role="tablist" aria-label="Campaign sections"></div>
      </div>
      <div class="panel" id="centerPanel"></div>
      <div id="runBadge" class="muted">Run: <span id="runBadgeId">–</span></div>
    </section>

    <!-- Right rail: assist / tips -->
    <aside class="panel right card assist">
      <div class="section">
        <strong>Tips</strong>
        <ul class="list">
          <li>Upload a CSV, adjust options, then press <em>Go</em>.</li>
          <li>When status reaches <em>Completed</em>, the tabs will populate automatically.</li>
        </ul>
      </div>
      <div class="section">
        <strong>Debug</strong>
        <div class="pre" id="debugLog" style="max-height:42vh; overflow:auto;"></div>
      </div>
    </aside>
  </main>
  <noscript>
    <div class="card" style="margin:1rem; padding:1rem;">
      JavaScript is required to run the Campaign builder UI.
    </div>
  </noscript>
  <div id="campaign-toast" class="toast" role="status" aria-live="polite"></div>
  <script src="/src/js/campaign.js" defer></script>
</body>

</html>