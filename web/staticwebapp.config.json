{
  "routes": [
    { "route": "/", "rewrite": "/index.html" },

    { "route": "/reports", "rewrite": "/reports.html" },
    { "route": "/reports/*", "rewrite": "/reports.html" },

    { "route": "/engagement/content/*", "allowedRoles": ["anonymous", "authenticated"], "headers": { "cache-control": "no-store" } },
    { "route": "/engagement", "rewrite": "/engagement/index.html" },
    { "route": "/engagement/*", "rewrite": "/engagement/index.html" },

    { "route": "/qualification", "rewrite": "/qualification/index.html" },
    { "route": "/qualification/*", "rewrite": "/qualification/index.html" },

    { "route": "/campaign", "rewrite": "/campaign/index.html" },
    { "route": "/campaign/*", "rewrite": "/campaign/index.html" },

  
    { "route": "/api/campaign/*", "rewrite": "http://localhost:7071/api/campaign/{*}", "allowedRoles": ["anonymous"] },
    { "route": "/api/runs",       "rewrite": "http://localhost:7071/api/runs",         "allowedRoles": ["anonymous"] },

    { "route": "/api/generate/*", "rewrite": "http://localhost:7072/api/generate/{*}", "allowedRoles": ["anonymous"] },
    { "route": "/api/*",          "rewrite": "http://localhost:7072/api/{*}",          "allowedRoles": ["anonymous"] }
  ],

  "navigationFallback": {
    "rewrite": "/index.html",
    "exclude": [
      "/.auth/*", "/api/*", "/content/*", "/src/*",
      "/reports", "/reports/*",
      "/engagement", "/engagement/*",
      "/qualification", "/qualification/*",
      "/campaign", "/campaign/*",
      "/*.css", "/*.js", "/*.mjs", "/*.json", "/*.png", "/*.jpg", "/*.gif", "/*.svg", "/*.ico"
    ]
  }
}
