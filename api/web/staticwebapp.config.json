staticwebapp.config.json (full, safe default)
Put this file at /web/staticwebapp.config.json:

json
Copy
Edit
{
  "routes": [
    { "route": "/api/*", "allowedRoles": ["authenticated"] },

    { "route": "/lead-qualification.html", "allowedRoles": ["authenticated"] },
    { "route": "/intro-builder.html", "allowedRoles": ["authenticated"] },
    { "route": "/email-gen.html", "allowedRoles": ["authenticated"] },
    { "route": "/follow-up.html", "allowedRoles": ["authenticated"] },
    { "route": "/competition.html", "allowedRoles": ["authenticated"] },
    { "route": "/checklist.html", "allowedRoles": ["authenticated"] }
  ],

  "navigationFallback": {
    "rewrite": "/index.html",
    "exclude": [
      "/api/*",
      "/*.{css,js,png,jpg,jpeg,gif,ico,svg,webp,woff,woff2,ttf,otf}"
    ]
  },

  "responseOverrides": {
    "401": { "redirect": "/index.html", "statusCode": 302 },
    "404": { "rewrite": "/index.html", "statusCode": 200 }
  }
}
What this does:

Keeps home page public (welcome + login).

Requires sign-in for tools and API (good for IP protection).

Lets users hit deep links (e.g., /intro-builder.html) after login.

Sends unauthenticated users back to the home page (302) on 401s.

Leaves static assets and /api/* out of SPA fallback.

If you truly want the API open during testing, change "authenticated" to "anonymous" for /api/* only. I recommend keeping it authenticated in production.
