{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "campaign_gold_v2",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "runId",
    "supplier",
    "industry",
    "persona",
    "viability",
    "sections"
  ],
  "properties": {
    "runId": {
      "type": "string"
    },
    "supplier": {
      "type": "string"
    },
    "industry": {
      "type": "string"
    },
    "persona": {
      "type": "string"
    },
    "viability": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "grade",
        "dimensions"
      ],
      "properties": {
        "grade": {
          "type": "string",
          "enum": [
            "viable",
            "borderline",
            "weak"
          ]
        },
        "dimensions": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "TAM": {
              "type": "object",
              "required": [
                "value",
                "warning_code",
                "message"
              ],
              "properties": {
                "value": {
                  "type": "integer"
                },
                "warning_code": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            },
            "problem_strength": {
              "type": "object",
              "required": [
                "score",
                "warning_code",
                "message"
              ],
              "properties": {
                "score": {
                  "type": "number"
                },
                "warning_code": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            },
            "differentiation": {
              "type": "object",
              "required": [
                "score",
                "warning_code",
                "message"
              ],
              "properties": {
                "score": {
                  "type": "number"
                },
                "warning_code": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            },
            "urgency": {
              "type": "object",
              "required": [
                "score",
                "warning_code",
                "message"
              ],
              "properties": {
                "score": {
                  "type": "number"
                },
                "warning_code": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "sections": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "executive_summary",
        "go_to_market",
        "offering",
        "sales_enablement",
        "proof_points"
      ],
      "properties": {
        "executive_summary": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "problem",
            "why_this_playing_field",
            "how_we_win",
            "campaign_aim",
            "evidence_case",
            "key_warnings",
            "citations",
            "viability_grade",
            "viability_reasons_ids"
          ],
          "properties": {
            "problem": {
              "type": "string"
            },
            "why_this_playing_field": {
              "type": "string"
            },
            "how_we_win": {
              "type": "string"
            },
            "campaign_aim": {
              "type": "string",
              "enum": [
                "upsell",
                "win-back",
                "growth",
                "nurture"
              ]
            },
            "evidence_case": {
              "type": "string"
            },
            "key_warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "citations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "viability_grade": {
              "type": "string"
            },
            "viability_reasons_ids": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "go_to_market": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "objective",
            "target_market",
            "marketing_actions",
            "sales_actions",
            "pipeline_model",
            "viability_notes",
            "citations",
            "viability_reasons_ids"
          ],
          "properties": {
            "objective": {
              "type": "string"
            },
            "target_market": {
              "type": "string"
            },
            "marketing_actions": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "sales_actions": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "pipeline_model": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "tiers",
                "motions"
              ],
              "properties": {
                "tiers": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "motions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "viability_notes": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "viability_reasons_ids": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "citations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "offering": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "business_value",
            "human_value",
            "solution_elements",
            "fit_to_needs",
            "citations"
          ],
          "properties": {
            "business_value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "human_value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "solution_elements": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "fit_to_needs": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "citations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "sales_enablement": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "buyer_problem",
            "buyer_value",
            "campaign_overview",
            "discovery_questions",
            "qualification_criteria",
            "objection_handling",
            "battlecard",
            "master_pitch",
            "citations"
          ],
          "properties": {
            "buyer_problem": {
              "type": "string"
            },
            "buyer_value": {
              "type": "object",
              "required": [
                "business_value",
                "human_value"
              ],
              "properties": {
                "business_value": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "human_value": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "campaign_overview": {
              "type": "string"
            },
            "discovery_questions": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "qualification_criteria": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "objection_handling": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "battlecard": {
              "type": "string"
            },
            "master_pitch": {
              "type": "string"
            },
            "citations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "proof_points": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "points",
            "citations"
          ],
          "properties": {
            "points": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "citations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "_meta": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "version",
        "strategy_engine",
        "generated_at"
      ],
      "properties": {
        "version": {
          "type": "string"
        },
        "strategy_engine": {
          "type": "string"
        },
        "generated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    }
  }
}